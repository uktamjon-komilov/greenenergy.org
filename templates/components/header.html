{% load static i18n %}

{% get_current_language as CURRENT_LANGUAGE %}
{% get_available_languages as AVAILABLE_LANGUAGES %}
{% get_language_info_list for AVAILABLE_LANGUAGES as languages %}

<div class="search-popup">
  <button class="close-search" onClick="document.body.classList.remove('search-active')">
    <span class="far fa-times"></span>
  </button>
  <form action="#">
    <div class="form-group">
      <input type="search" name="search-field" placeholder="{% trans 'Search Here...' %}" required="">
      <button type="submit"><i class="far fa-search"></i></button>
    </div>
  </form>
</div>

<header class="header">
  <div class="header-top">
    <div class="container">
      <div class="header-top-wrapper">
        <div class="header-top-left">
          <div class="header-top-contact">
            <ul>
              <li><a href="tel: {% trans 'header_phone' %}"><i class="far fa-phone"></i>{% trans 'header_phone' %}</a>
              </li>
              <li><a href="mailto:{% trans 'header_email' %}"><i class="far fa-envelope"></i>{% trans 'header_email' %}</a>
              </li>
            </ul>
          </div>
        </div>
        <div class="header-top-right">
          <div class="header-top-lang">
            <div class="dropdown">
              <button class="dropdown-toggle" type="button" id="lang" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="far fa-globe-americas"></i>English
              </button>
              <ul class="dropdown-menu" aria-labelledby="lang">
                {% for language in languages %}
                  <li>
                    <a class="dropdown-item {% if language.code == CURRENT_LANGUAGE %}active{% endif %}" href="/{{ language.code }}/">
                      <img src="/static/assets/img/lang/{{language.code}}.png" alt="">{{ language.name_local }}</a>
                  </li>
                {% endfor %}
              </ul>
            </div>
          </div>
          <div class="header-top-social">
            <span>{% trans 'Follow Us:' %}</span>
            {% for item in follow_links %}
            <a href="{{item.get_link}}">{{item.get_icon | safe}}</a>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="main-navigation">
    <nav class="navbar navbar-expand-lg">
      <div class="container">
        <a class="navbar-brand" href="/" style="font-size: 32px; font-weight: 500">
          <span style="color: #32C36C">GREEN</span><span style="color: #253745">ENERGY</span>
        </a>
        <div class="mobile-menu-right">
          <a href="#" class="mobile-search-btn search-box-outer"><i class="far fa-search"></i></a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#main_nav"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"><i class="far fa-stream"></i></span>
          </button>
        </div>
        <div class="collapse navbar-collapse" id="main_nav">
          <ul class="navbar-nav">
            <li class="nav-item dropdown">
              <a class="nav-link active" href="{% url 'home-page' %}" data-bs-toggle="dropdown">{% trans 'Home' %}</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'about-page' %}">{% trans 'About' %}</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'contact-page' %}">{% trans 'Contact' %}</a>
            </li>
          </ul>
          <div class="header-nav-right">
            <div class="header-nav-search" onClick="document.body.classList.add('search-active')">
              <a href="#" class="search-box-outer"><i class="far fa-search"></i></a>
            </div>
          </div>
        </div>
      </div>
    </nav>
  </div>
</header>